<!DOCTYPE html>
<html>
  <head>
    <title>Knowledge management FAIRification tool for conservation and restoration processes</title>
    <link rel="icon" type="image/x-icon" href="pictures/CoffeeAndConservationLogo.png">
    <script src = "js/d3.v7.js"></script>
    <script src = "js/hierarchyVisualizer.js"></script>
    <script src = "js/visualizationMethods.js"></script>
  </head>
  <body>
    <header>
      <h1>Knowledge management FAIRification tool for conservation and restoration processes</h1>
      <hr>
    </header>
    <nav>
      <a href="index.html">Introduction</a>
      <a href="vocabulary.html">Vocabulary</a>
      <a href="ontology.html">Ontology</a>
      <a href="contact.html">Contact</a>
      <br>
      <center>
        <img src="pictures/CSV-Image.svg" alt="RRZEicons  CC BY-SA 3.0 Deed" height="150" title="RRZEicons  CC BY-SA 3.0 Deed" img>
      </center>
    </nav>
    <main>
      <article> 
        <section>
          <h2>Hierarchical vocabulary validation and visualization</h2>
          <p>CSV/TSV-Datei validieren oder Beispieldatensatz verwenden.</p>
          <p>Eigene Dateien m√ºssen folgendem<a href="schema.html"> Tabellenschema </a>entsprechen.</p>
          <div id="output">
            <form action="https://httpbin.org/post" method="post" enctype="multipart/form-data", id="submitForm">
              <input name="file" type="file" multiple id="fileInput" accept=".csv, .tsv">
              <button id="submitButton" type="submit">Validieren</button>
          </form>
            <br>
            <!-- <button onclick = readSheet() id = "fileButton" >Tabelle validieren</button> -->
            <button onclick = readExample() id = "exampleButton" >Beispiel laden</button>
            <p id="ignored"> </p>
            <p id="topped"> </p>
            <p id="orphans"> </p>
            <p id="outputText"> </p>
            <p id="doublettes"> </p>
            <p id="missingParents"> </p>
            <p id="errorText"> </p>
            <div id="chartDiv" style="width: 100%"> </div>
          </div>
        </section>
        <aside> </aside>
      </article>
      <script>
        const form = document.querySelector('form');
        form.addEventListener('submit', handleSubmit);
        function handleSubmit(event) {
            event.preventDefault();
            uploadFiles();
        }
        async function uploadFiles() {
            const url = 'https://httpbin.org/post';
            const formData = new FormData(form);
            const fetchOptions = {
                method: 'post',
                body: formData
            };
            const response = await fetch(url, fetchOptions);
            const data = await response.json();
            //console.log(data);
            //const resultDiv = document.getElementById('result');
            //resultDiv.innerHTML = data.files.file
            readData(data.files.file)
        }
      </script>
    </main>
    <footer> </footer>
  </body>
</html>
